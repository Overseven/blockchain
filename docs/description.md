# Описание функционала софта

## Contents
- [Введение](#введение)
- [Клиент](#клиент)
- [Координатор](#координатор)
- [Нода](#нода)
- [Валидатор](#валидатор)

## Введение
EverlastTry - экспериментальный блокчейн, для исследования возможностей распределенных технологий.

Основные характеристики:
- Алгоритм PoW([Proof-Of-Work](https://forklog.com/chto-takoe-proof-of-work-i-proof-of-stake/))
- Виды транзакций:
  - трансфер средств от одного кошелька к другому
  - аирдроп - генерация монет от лица модератора на указаный кошелек

## Клиент
Клиент - легковесная программа, позволяющая совершать транзакции со своего кошелька, отображать свой баланс, и некоторую статистику сети в целом.

На первом этапе - клиент это консольная утилита, представляющая из себя отдельный .exe файл, со следующими входными параметрами:
- ``pubKey <addres>`` - публичный адрес.
- ``privKey <key>`` - приватный ключ.
- ``saveLocalChain <bool>`` - битовый флаг (0/1, false/true), отвечающий за сохранение локальной копии блокчейна. При значении false информация о текущем балансе берётся исключительно от запросов к нодам. Значение по умолчанию - `false`.
- ``coordinator <ip:port>`` - адрес [координатора](#координатор).
- ``cfgFile`` - путь до файла конфигурации, в котором заданы параметры выше.

Пример:

``client.exe -pubKey AkZbjJQOk9G8o6GhS3+5v0JdMKq5qUkmQ2uL9pPtDX2I -privKey 1NSqxZbRHjpajCAlUfoYeV6sG+JVfp/CwZ2JjtIj+QQ= -saveLocalChain true -coordinator 127.0.0.1:64``

Перечисленные параметры можно хранить в конфигурационном файле, и передавать программе путь до этого файла:

``client.exe -cfgFile myconfig.cfg``

Пример содержания конфигурационного файла:
```
pubKey:AkZbjJQOk9G8o6GhS3+5v0JdMKq5qUkmQ2uL9pPtDX2I
privkey:1NSqxZbRHjpajCAlUfoYeV6sG+JVfp/CwZ2JjtIj+QQ=
saveLocalChain:true
coordinator:127.0.0.1:64
```
Клиент в автоматическом режиме получает от [координатора](#координатор) актуальный список адресов действующих нод.
При отправке транзакции запрос на её обработку передаётся всем известным нодам.

## Координатор
Координатор - утилита, запущенная на сервере с публичным IP. Задача координатора - по запросу предоставлять IP адреса действующих нод.

Клиент и нода обращаются к координатору в случаях:
- Первый запуск
- Недоступность известных нод

## Нода
Нода - ключевой элемент в сети, выполняет роль распределителя новых блоков и валидатора транзакций.

При запуске, нода регистрируется у [координатора](#координатор), получает адреса и подключается к остальным нодам.

## Валидатор
Валидатор (майнер) - подключается к нодам, получает от них транзакции, требующие обработки.

Транзакций проверяются на наличие достаточных средств на счетах, и объединяются в группу (блок), и начинает подбор [Nonce](https://coincentral.com/what-is-a-nonce-proof-of-work/#:~:text=The%20nonce%20is%20a%20central,blockchains%20and%20cryptocurrencies%20like%20Bitcoin.&text=The%20nonce%20is%20a%20random,so%20win%20the%20block%20reward.).

При успешном поиске, майнер отправляет всем нодам свой блок, со своим публичным адресом, для получения комиссии за валидацию.
